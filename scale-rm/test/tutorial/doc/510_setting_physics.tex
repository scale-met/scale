\section{\SecBasicPhysicsSetting} \label{sec:basic_usel_physics}
%------------------------------------------------------

\subsection{\SubsecMicrophysicsSetting} \label{subsec:basic_usel_microphys}
%------------------------------------------------------
雲微物理スキームの選択は、init.confとrun.conf中の
\namelist{PARAM_TRACER}の中の\nmitem{TRACER_TYPE}、
及び、\namelist{PARAM_ATMOS}の\nmitem{ATMOS_PHY_MP_TYPE}で設定する。
このとき{\color{red}{\nmitem{TRACER_TYPE}と\nmitem{ATMOS_PHY_MP_TYPE}は普通は同じものを設定し}}
、かつ、\textcolor{red}{init.conf，run.confで同一の設定}とする必要がある。
ただし、\nmitem{ATMOS_PHY_MP_TYPE}を\verb|OFF|とするときは、\nmitem{TRACER_TYPE}は何を設定してもよいが、乾燥大気の計算をする場合は\verb|TRACER_TYPE = DRY|とするのがよい。
雲微物理スキームを呼び出すタイミングは、
\namelist{PARAM_TIME}で設定するが、これについては
第\ref{sec:timeintiv}節を参照のこと。
以下に、氷雲を含む1-momentバルク法を用いるときの設定を示す。


\noindent {\gt
\ovalbox{
\begin{tabularx}{140mm}{ll}
\verb|&PARAM_ATMOS  | & \\
\verb| ATMOS_PHY_MP_TYPE = "TOMITA08", | & ; 表\ref{tab:nml_atm_mp}より選択。\\
\verb|/             | & \\
\\
\verb|&PARAM_TRACER | & \\
\verb| TRACER_TYPE = "TOMITA08", | & \verb|ATMOS_PHY_MP_TYPE|と同じスキーム。\\
\verb|/             | & \\
\end{tabularx}
}}\\

\begin{table}[h]
\begin{center}
  \caption{雲微物理スキームの設定}
  \label{tab:nml_atm_mp}
  \begin{tabularx}{150mm}{lXX} \hline
    \rowcolor[gray]{0.9}  設定名 & スキームの説明 & 文献\\ \hline
     \verb|OFF|      & 雲微物理による相変化を計算しない &  \\
     \verb|KESSLER|  & 水雲のみの1-momentバルク法 & \citet{kessler_1969} \\
     \verb|TOMITA08| & 氷雲を含む1-momentバルク法 & \citet{tomita_2008} \\
     \verb|SN14|     & 氷雲を含む2-momentバルク法 & \citet{sn_2014} \\
     \verb|SUZUKI10| & 1-momentビン法(氷雲を含むか否かはオプションで選択) & \citet{suzuki_etal_2010} \\
    \hline
  \end{tabularx}
\end{center}
\end{table}

{\color{red}\verb|SUZUKI10|以外を選択する場合}は、
init.conf、run.confの\nmitem{TRACER_TYPE}と\nmitem{ATMOS_PHY_MP_TYPE}を
変更するだけで実行可能であるが、
\verb|SUZUKI10|を選択する場合は、以下のように
init.conf、run.confの双方に
下記を追加する必要がある。\\

\noindent {\gt
\ovalbox{
\begin{tabularx}{140mm}{ll}
\verb|&PARAM_BIN|   &  \\
\verb| nbin   = 33, & (ビンの数)| \\
\verb| ICEFLG =  1, & (氷雲を考慮するか否か，0->水雲のみ，1->氷雲も含む)| \\
\verb|/|            & \\
\end{tabularx}
}}\\

この場合も、
{\color{red}{init.confとrun.confに記載される\verb|PARAM_BIN|は同一にする必要がある}}。
\verb|SUZUKI10|を選択した時には、micpara.datという
雲微物理の計算に必要なファイルが自動生成される。
micpara.datがすでに存在する場合はあるものを利用するが、
nbinが変わると新たに作成しなければならない。
micpara.datの１行目にnbinの情報が記載されているが、
もしrun.confに記載されるnbinと
micpara.datに記載されているnbinが異なれば、\\

\noindent {\gt
\fbox{
\begin{tabularx}{140mm}{l}
\verb|xxx nbin in inc_tracer and nbin in micpara.dat is different check!| \\
\end{tabularx}
}}\\

\noindent というエラーメッセージを標準出力に出力して計算を行わず終了するようになっている。
そのため、nbinを変更した際は、micpara.datを消去して
新たに作り直す必要がある
(micpara.datを消して再度\scalerm をSUZUKI10を用いて実行すれば自動的に新しいmicpara.datが生成される)。



\subsection{\SubsecTurbulenceSetting} \label{subsec:basic_usel_turbulence}
%------------------------------------------------------

乱流スキームの選択は，init.confとrun.conf中の
\namelist{PARAM_ATMOS}の中の\nmitem{ATMOS_PHY_TB_TYPE}で以下のように設定する。
乱流スキームをが呼び出されるタイミングは、
\namelist{PARAM_TIME}で設定するが、これについては
第\ref{sec:timeintiv}節を参照のこと。\\

\noindent {\gt
\ovalbox{
\begin{tabularx}{140mm}{ll}
\verb|&PARAM_ATMOS  | & \\
\verb| ATMOS_PHY_TB_TYPE = "MYNN", | & ; 表\ref{tab:nml_atm_tb}より選択。\\
\verb|/             | & \\
\end{tabularx}
}}\\

\begin{table}[h]
\begin{center}
  \caption{乱流スキームの設定}
  \label{tab:nml_atm_tb}
  \begin{tabularx}{150mm}{lXX} \hline
    \rowcolor[gray]{0.9}  設定名 & スキームの説明 & 文献\\ \hline
      \verb|OFF|          & 乱流の計算を行わない &  \\
      \verb|SMAGORINSKY|  & Smagorinsky 型のサブグリッドモデル    & \citet{smagorinsky_1963,lilly_1962,Brown_etal_1994,Scotti_1993} \\
      \verb|D1980|        & Deardorff(1980)サブグリットモデル &\citet{Deardorff_1980} \\
      \verb|MYNN|         & MYNN Level 2.5 乱流モデル & \citet{my_1982,nakanishi_2004} \\
    \hline
  \end{tabularx}
\end{center}
\end{table}




\subsection{\SubsecRadiationSetting} \label{subsec:basic_usel_radiation}
%-------------------------------------------------------------------------------
放射スキームの選択は、init.confとrun.conf中の
\namelist{PARAM_ATMOS}の\nmitem{ATMOS_PHY_RD_TYPE}で設定する。
放射スキームが呼び出されるタイミングは、\namelist{PARAM_TIME}で設定するが、
これについては第\ref{sec:timeintiv}節を参照のこと。\\

\noindent {\gt
\ovalbox{
\begin{tabularx}{140mm}{ll}
\verb|&PARAM_ATMOS  | & \\
\verb| ATMOS_PHY_RD_TYPE = "MSTRNX", | & ; 表\ref{tab:nml_atm_rd}より選択。\\
\verb|/             | & \\
\end{tabularx}
}}\\

\begin{table}[h]
\begin{center}
  \caption{放射スキームの選択肢}
  \label{tab:nml_atm_rd}
  \begin{tabularx}{150mm}{lXX} \hline
    \rowcolor[gray]{0.9}  設定名 & スキームの説明 & 文献\\ \hline
      \verb|OFFまたはNONE| & 放射スキームを使用しない & \\
      \verb|MSTRNX|       & mstrnX & \citet{sekiguchi_2008} \\
      \verb|WRF|          & mstrnX(長波)+Dudhia(短波) & \citet{dudhia_1989} \\
    \hline
  \end{tabularx}
\end{center}
\end{table}

放射計算のための太陽放射量は、
モデル実行の日付および時刻設定と、モデルの計算領域の緯度経度に従って計算される。
理想実験のために、緯度経度や時刻を固定することも出来る。
また太陽定数も変更できる。
これらは\namelist{PARAM_ATMOS_SOLARINS}で設定する。\\

\noindent {\small {\gt
\ovalbox{
\begin{tabularx}{150mm}{lX}
\verb|&PARAM_ATMOS_SOLARINS        | & \\
\verb| ATMOS_SOLARINS_constant    = 1360.250117   | & 太陽定数 [W/m2] \\
\verb| ATMOS_SOLARINS_fixedlatlon = .false.       | & 放射計算の緯度経度を固定するかどうか\\
\verb| ATMOS_SOLARINS_fixeddate   = .false.       | & 放射計算の日時を固定するかどうか\\
\verb| ATMOS_SOLARINS_lon         = 135.221       | & \verb|ATMOS_SOLARINS_fixedlatlon=.true.|の場合の経度 [deg.] \\
\verb| ATMOS_SOLARINS_lat         =  34.653       | & \verb|ATMOS_SOLARINS_fixedlatlon=.true.|の場合の緯度 [deg.]\\
\verb| ATMOS_SOLARINS_date = -1,-1,-1,-1,-1,-1,   | & \verb|ATMOS_SOLARINS_fixeddate=.true.|の場合の年月日時刻 [Y,M,D,H,M,S]\\
\verb|/|            & \\
\end{tabularx}
}}}\\

上記は初期値を示している。
\namelist{PARAM_MAPPROJ}の\nmitem{MPRJ_basepoint_lon,MPRJ_basepoint_lat}が設定されている場合には、
\nmitem{ATMOS_SOLARINS_lon,ATMOS_SOLARINS_lat}の初期値は、\\
\nmitem{MPRJ_basepoint_lon,MPRJ_basepoint_lat}がそれぞれ与えられる。\\



実験設定によっては、モデルトップの高度が10-20 kmと低いことがしばしばある。
そのため放射計算ではモデルトップとは別の最上層高度を設定し、
モデルトップより上空を何層で表現するか設定するようになっている。
放射用最上層を何kmにとるかは放射スキーム・パラメータファイル依存であるが、
例えば\verb|MSTRNX|ではデフォルトの
パラメータテーブルが想定する放射用最上層は100kmである。
追加される高度はデフォルトの場合10層で表現する。
すなわち、モデルトップが22kmであれば、放射スキーム内では
7.8km$\times$10層が追加されて計算される。
これらは\verb|MSTRNX|なら\namelist{PARAM_ATMOS_PHY_RD_MSTRN}で設定する。\\

\noindent {\small {\gt
\ovalbox{
\begin{tabularx}{150mm}{lX}
\verb|&PARAM_ATMOS_PHY_RD_MSTRN | & \\
\verb| ATMOS_PHY_RD_MSTRN_KADD                  = 10             | & モデルトップからTOAまでの間の大気層数\\
\verb| ATMOS_PHY_RD_MSTRN_TOA                   = 100.0          | & 放射計算で考慮する大気最上層(TOA)の高さ [km](パラメータファイルに依存)\\
\verb| ATMOS_PHY_RD_MSTRN_nband                 = 29             | & 波長帯ビンの数(パラメータファイルに依存)\\
\verb| ATMOS_PHY_RD_MSTRN_nptype                = 11             | & エアロゾルの種類の数(パラメータファイルに依存)\\
\verb| ATMOS_PHY_RD_MSTRN_nradius               = 6              | & エアロゾル粒径ビンの数(パラメータファイルに依存)\\
\verb| ATMOS_PHY_RD_MSTRN_GASPARA_IN_FILENAME   = "PARAG.29"     | & 気体吸収パラメータの入力ファイル\\
\verb| ATMOS_PHY_RD_MSTRN_AEROPARA_IN_FILENAME  = "PARAPC.29"    | & エアロゾル吸収・散乱パラメータの入力ファイル\\
\verb| ATMOS_PHY_RD_MSTRN_HYGROPARA_IN_FILENAME = "VARDATA.RM29" | & エアロゾル粒径パラメータの入力ファイル\\
\verb| ATMOS_PHY_RD_MSTRN_ONLY_QCI              = .false.        | & 雨・雪・あられを放射計算で考慮するかどうか\\
\verb|/| & \\
\end{tabularx}
}}}\\

\verb|MSTRNX|を実行するには、放射計算のためのパラメータテーブルが必要である。
デフォルトでは太陽放射から赤外放射までを29バンド111チャンネルに分割し、
雲・エアロゾル粒子は11種類、粒径を6ビンで表した時のテーブルを用いている。
パラメータファイル（3種類）は、
\begin{verbatim}
  scale-rm/test/data/rad/
\end{verbatim}
に用意されている。
\namelist{PARAM_ATMOS_PHY_RD_MSTRN}でファイルのディレクトリと名前を指定する。\\

放射計算のために追加された層の気温・気圧プロファイルは外部から与える必要がある。
また二酸化炭素やオゾン等の気体濃度プロファイルも必要である。
プロファイルは気候値またはユーザーが準備したASCII形式の入力データを用いることが出来る。\\
気候値の場合、\scalerm では気温・気圧についてはCIRA86
\footnote{http://catalogue.ceda.ac.uk/uuid/4996e5b2f53ce0b1f2072adadaeda262}\citep{CSR_2006}、
気体種についてはMIPAS2001\citep{Remedios_2007}をデータベースとして用意している。
気候値プロファイルについても、
モデル実行の日付および時刻設定とモデルの計算領域の緯度経度に従って計算され、
日射量計算のために固定した緯度経度や時刻を用いた場合は、それに従う。
読み込むファイルは、
\begin{verbatim}
  scale-rm/test/data/rad/
\end{verbatim}
に用意されており、\namelist{PARAM_ATMOS_PHY_RD_PROFILE}でファイルのディレクトリと名前を指定する。\\

ユーザーが準備するプロファイルの場合は、任意の層数の高度 [m]、気圧 [Pa]、気温 [K]、水蒸気量 [kg/kg]、オゾン濃度 [kg/kg]
をASCIIファイルで記述して指定する。それ以外の気体濃度はすべて0として扱われ、時間変化も考慮しない。
このユーザー指定ファイルの例は、
\begin{verbatim}
  scale-rm/test/data/rad/
\end{verbatim}
に用意されており、\namelist{PARAM_ATMOS_PHY_RD_PROFILE}で\nmitem{ATMOS_PHY_RD_PROFILE_use_climatology = .false.}と設定し、
ファイルのディレクトリと名前を指定する。\\

\noindent {\small {\gt
\ovalbox{
\begin{tabularx}{150mm}{lX}
\verb|&PARAM_ATMOS_PHY_RD_PROFILE | & \\
\verb| ATMOS_PHY_RD_PROFILE_use_climatology       = .true.    | & CIRA86とMIPAS2001の気候値を利用するかどうか\\
\verb| ATMOS_PHY_RD_PROFILE_CIRA86_IN_FILENAME    = "cira.nc" | & \verb|CIRA86 (NetCDF format)|ファイル\\
\verb| ATMOS_PHY_RD_PROFILE_MIPAS2001_IN_BASENAME = "."       | & \verb|MIPAS2001 (ASCII format)|のディレクトリ\\
\verb| ATMOS_PHY_RD_PROFILE_USER_IN_FILENAME      = ""        | & 気候値を利用しない場合に用いるユーザー指定ファイル (ASCII format)\\
\verb| ATMOS_PHY_RD_PROFILE_USE_CO2               = .true.    | & falseの場合、強制的にCO2濃度を常に0に設定する\\
\verb| ATMOS_PHY_RD_PROFILE_USE_O3                = .true.    | & falseの場合、強制的にO3濃度を常に0に設定する\\
\verb| ATMOS_PHY_RD_PROFILE_USE_N2O               = .true.    | & falseの場合、強制的にN2O濃度を常に0に設定する\\
\verb| ATMOS_PHY_RD_PROFILE_USE_CO                = .true.    | & falseの場合、強制的にCO濃度を常に0に設定する\\
\verb| ATMOS_PHY_RD_PROFILE_USE_CH4               = .true.    | & falseの場合、強制的にCH4濃度を常に0に設定する\\
\verb| ATMOS_PHY_RD_PROFILE_USE_O2                = .true.    | & falseの場合、強制的にO2濃度を常に0に設定する\\
\verb| ATMOS_PHY_RD_PROFILE_USE_CFC               = .true.    | & falseの場合、強制的にすべてのCFC濃度を常に0に設定する\\
\verb|/| & \\
\end{tabularx}
}}}\\

気候値・ユーザー指定プロファイルのいずれもモデルの高度・層数の設定とは独立に高度・層数が指定され、実行時にはモデル各層の値に内挿される。
ただし、想定する最高高度（放射計算で考慮する大気最上層(TOA)の高さ）がプロファイルよりも高い場合、外挿となるので注意されたい。\\



\subsection{\SubsecSurfaceSetting} \label{subsec:basic_usel_surface}
%------------------------------------------------------
大気下端境界のフラックス計算スキームの選択は、init.confとrun.conf中の
\namelist{PARAM_ATMOS}の\nmitem{ATMOS_PHY_SF_TYPE}で以下のように設定する。\\

海面・陸面・都市モデルを用いない場合の大気下端境界は、
理想実験のための仮想的な地表面であることを想定している。
この大気下端境界のフラックス計算を行うスキームが呼び出されるタイミングは、
\namelist{PARAM_TIME}で設定する。
時間設定の詳細については第\ref{sec:timeintiv}節を参照のこと。\\

海面・陸面・都市モデルを用いる場合には、\nmitem{ATMOS_PHY_SF_TYPE}はCOUPLEに設定する。
NONEが設定されている場合は自動的にCOUPLEに変更される。
それ以外のスキームを海面・陸面・都市モデルの実行と同時に選択することは出来ない。
大気は状態量・フラックスを海面・陸面・都市モデルから毎ステップ受け取るが、毎ステップ更新されているとは限らない。
海面・陸面・都市モデルがそれらの値を更新する間隔はそれぞれのモデルの物理過程が呼び出されるタイミングに従う。
大気下端境界のフラックススキームが呼び出されるタイミングは、
受け取った状態量・フラックスを出力する間隔として用いられる。\\

\noindent {\gt
\ovalbox{
\begin{tabularx}{140mm}{ll}
\verb|&PARAM_ATMOS  | & \\
\verb| ATMOS_PHY_SF_TYPE = "COUPLE", | & ; 表\ref{tab:nml_atm_sf}より選択。\\
\verb|/             | & \\
\end{tabularx}
}}\\

\begin{table}[h]
\begin{center}
  \caption{大気下端境界の選択肢}
  \label{tab:nml_atm_sf}
  \begin{tabularx}{150mm}{lX} \hline
    \rowcolor[gray]{0.9}  設定名 & スキームの説明\\ \hline
      \verb|NONE|         & 地表面フラックスを計算しない(海面・陸面・都市モデルの実行設定に応じてCOUPLEに変更される) \\
      \verb|OFF|          & 地表面フラックスを計算しない \\
      \verb|CONST|   　　　& 地表面フラックスを任意の値に固定 \\
      \verb|BULK|    　　　& 地表面フラックスをバルクモデルで計算 \\
      \verb|COUPLE|  　　　& 海面・陸面・都市モデルそれぞれが計算するフラックスを受け取る \\
    \hline
  \end{tabularx}
\end{center}
\end{table}

%-------------------------------------------------------------------------------
\subsubsection{一定値設定の場合}

\nmitem{ATMOS_PHY_SF_TYPE = "CONST"}を選択した場合は、run.confで
下記を設定することにより、
任意の値に固定することが可能である。下記の値はデフォルトの設定を示す。\\

\noindent {\small {\gt
\ovalbox{
\begin{tabularx}{150mm}{lX}
 \\
 \verb|&PARAM_ATMOS_PHY_SF_CONST                | & \\
 \verb| ATMOS_PHY_SF_FLG_MOM_FLUX   =    0      | & 0: バルク係数を一定にする \\
                                                  & 1: 摩擦速度を一定にする   \\
 \verb| ATMOS_PHY_SF_U_minM         =    0.0E0  | & 絶対速度の下限値 [m/s] \\
 \verb| ATMOS_PHY_SF_Const_Cm       = 0.0011E0  | & 運動量に対する一定バルク係数値 \\
                                                  &  (\verb|ATMOS_PHY_SF_FLG_MOM_FLUX = 0| のとき有効) \\
 \verb| ATMOS_PHY_SF_CM_min         =    1.0E-5 | & 運動量に対するバルク係数の下限値 \\
                                                  &  (\verb|ATMOS_PHY_SF_FLG_MOM_FLUX = 1| のとき有効) \\
 \verb| ATMOS_PHY_SF_Const_Ustar    =   0.25E0  | & 一定摩擦係数値 [m/s] \\
                                                  &  (\verb|ATMOS_PHY_SF_FLG_MOM_FLUX = 1| のとき有効) \\
 \verb| ATMOS_PHY_SF_Const_SH       =    15.E0  | & 一定地表面顕熱フラックス値 [W/m2] \\
 \verb| ATMOS_PHY_SF_FLG_SH_DIURNAL =   .false. | & 顕熱フラックスに日変化をつけるか否か [logical]\\
 \verb| ATMOS_PHY_SF_Const_FREQ     =    24.E0  | & 顕熱フラックスに日変化を付けるときのサイクル [hour]\\
 \verb| ATMOS_PHY_SF_Const_LH       =   115.E0  | & 一定地表面潜熱フラックス値 [W/m2] \\
 \verb|/|            & \\
 \\
\end{tabularx}
}}}\\

\subsubsection{バルク設定の場合}
%-------------------------------------------------------------------------------
\nmitem{ATMOS_PHY_SF_TYPE = "BULK"}を選択した場合は、
任意の地表面温度に対応したフラックスをバルクモデルに従って計算する。
このとき、粗度は海面粗度の計算スキームを利用しているが、
後述するように海面粗度は定数を与えることができ、
また蒸発効率を決める係数も任意の値を設定出来るため、
海面に限定せず、陸面を想定した理想実験も行うことが出来る。\\

海面粗度を計算するスキームは、
run.conf中の\namelist{PARAM_ROUGHNESS}の\nmitem{ROUGHNESS_TYPE}で以下のように設定する。\\

\noindent {\gt
\ovalbox{
\begin{tabularx}{140mm}{ll}
\verb|&PARAM_ROUGHNESS  | & \\
\verb| ROUGHNESS_TYPE = "MOON07", | & ; 表\ref{tab:nml_roughness}より選択。\\
\verb|/             | & \\
\end{tabularx}
}}\\

\begin{table}[h]
\begin{center}
  \caption{海面粗度スキームの選択肢}
  \label{tab:nml_roughness}
  \begin{tabularx}{150mm}{llX} \hline
    \rowcolor[gray]{0.9}  設定名 & スキームの説明 & 文献 \\ \hline
      \verb|MOON07|   & 経験式に基づく値（時間発展あり）、デフォルト　& \citet{moon_2007} \\
      \verb|MILLER92| & 経験式に基づく値（時間発展なし）　　　　　　　& \citet{miller_1992} \\
      \verb|CONST|    & 定数を与える & \\
    \hline
  \end{tabularx}
\end{center}
\end{table}

また、フラックス計算に使用するバルク交換係数の計算スキームは
run.conf中の\namelist{PARAM_BULKFLUX}の\nmitem{BULKFLUX_TYPE}で以下のように設定する。\\

\noindent {\gt
\ovalbox{
\begin{tabularx}{140mm}{ll}
\verb|&PARAM_BULKFLUX  | & \\
\verb| BULKFLUX_TYPE = "B91W01", | & ; 表\ref{tab:nml_bulk}より選択。\\
\verb|/             | & \\
\end{tabularx}
}}\\

\begin{table}[h]
\begin{center}
  \caption{バルク交換係数スキームの選択肢}
  \label{tab:nml_bulk}
  \begin{tabularx}{150mm}{llX} \hline
    \rowcolor[gray]{0.9}  設定名 & スキームの説明 & 文献 \\ \hline
      \verb|B91W01| & 経験式に基づく値、デフォルト & \citet{beljaars_1991,wilson_2001} \\
      \verb|U95|    & 経験式に基づく値、(\citet{loius_1979}の改良版) & \citet{uno_1995} \\
    \hline
  \end{tabularx}
\end{center}
\end{table}



\subsection{\SubsecOceanSetting} \label{subsecp:basic_usel_ocean}
%-------------------------------------------------------------------------------
海面過程は海面の状態量の更新と大気ー海面間のフラックス計算の２つに大別される。
これらの過程を計算するタイミングはどちらも\namelist{PARAM_TIME}で設定する。
時間設定の詳細については第\ref{sec:timeintiv}節を参照のこと。\\


\subsubsection{海面スキーム}
%-------------------------------------------------------------------------------
海面の状態量（主に海面温度）の更新を担う海面スキームの選択は、init.confとrun.conf中の
\namelist{PARAM_OCEAN}の\nmitem{OCEAN_TYPE}で設定する。
海面・陸面・都市モデルのいずれかひとつでも用いられていて、
\namelist{PARAM LANDUSE}で入力・設定された土地利用分布に海面が含まれている場合、
\nmitem{OCEAN_TYPE == NONEまたはOFF}を選択することは出来ない。\\
海面のアルベドは、どの海面スキームを選択しても同じ計算スキームが適用され、
太陽天頂角に応じたアルベドが計算される。\\

\noindent {\gt
\ovalbox{
\begin{tabularx}{140mm}{ll}
\verb|&PARAM_OCEAN           | & \\
\verb| OCEAN_TYPE = "CONST", | & ; 表\ref{tab:nml_ocean}より選択。\\
\verb|/                      | & \\
\end{tabularx}
}}\\

\begin{table}[h]
\begin{center}
  \caption{海面スキームの選択肢}
  \label{tab:nml_ocean}
  \begin{tabularx}{150mm}{lX} \hline
    \rowcolor[gray]{0.9}  設定名 & スキームの説明 \\ \hline
      \verb|NONEまたはOFF| & 海面モデルを利用しない              \\
      \verb|CONST|        & 初期値のまま固定                   \\
      \verb|FILE|         & 外部ファイルから与える (時間変化可能) \\
      \verb|SLAB|         & スラブ海面モデル                   \\
    \hline
  \end{tabularx}
\end{center}
\end{table}

\verb|OCEAN_TYPE = "FILE"|を選択した場合は、init.confとrun.confで外部入力ファイルの設定が必要である。
この場合、与えられた外部ファイルの空間分布と時系列に応じて、海面温度は変化する。\\

\noindent {\gt
\ovalbox{
\begin{tabularx}{140mm}{ll}
 \verb|&EXTITEM                                  | & \\
 \verb| basename   = "../init/output/ocean_d01", | & ; 入力ファイル\\
 \verb| varname    = "OCEAN_TEMP",               | & ; \verb|"OCEAN_TEMP"|と書く。\\
 \verb| step_limit = 1800,                       | & \\
 \verb| step_fixed =  -1,                        | & \\
 \verb| enable_periodic_year  = .false.,         | & \\
 \verb| enable_periodic_month = .false.,         | & \\
 \verb| enable_periodic_day   = .false.,         | & \\
 \verb|/                                         | & \\
\end{tabularx}
}}\\

\verb|OCEAN_TYPE = "SLAB"|を選択した場合は、init.confとrun.confでスラブ混合層の深さを設定することができる。
この場合、大気-海面間の熱フラックスの移動に応じて、スラブ混合層の温度は時間発展する。\\

\noindent {\gt
\ovalbox{
\begin{tabularx}{140mm}{ll}
 \verb|&PARAM_OCEAN_PHY_SLAB           | & \\
 \verb| OCEAN_PHY_SLAB_DEPTH = 10.0D0, | & ; デフォルト設定[m] \\
 \verb|/                               | & \\
\end{tabularx}
}}\\

\subsubsection{大気-海面フラックス}
%-------------------------------------------------------------------------------
海面スキームが設定されると、自動的に大気ー海面間で必要な状態量やフラックスが交換されることになる。\\
大気ー海面間フラックスは、複数あるバルクスキームのいずれかを用いて計算される。
また、バルクスキーム内で利用される海面粗度長計算についても、複数のスキームが選択できる。
海面粗度を計算するスキームは、
run.conf中の\namelist{PARAM_ROUGHNESS}の\nmitem{ROUGHNESS_TYPE}で設定する。
フラックス計算に使用するバルク交換係数の計算スキームは
run.conf中の\namelist{PARAM_BULKFLUX}の\nmitem{BULKFLUX_TYPE}で設定する。
これらの詳細については、第\ref{subsec:basic_usel_surface}節参照のこと。\\



\subsection{\SubsecLandSetting} \label{subsec:basic_usel_land}
%-------------------------------------------------------------------------------
陸面過程についても、海面過程と同じく陸面の状態量の更新と大気ー陸面間のフラックス計算の２つに大別される。
これらの過程が呼び出されるタイミングはどちらも\namelist{PARAM_TIME}で設定する。
時間設定の詳細については第\ref{sec:timeintiv}節を参照のこと。\\


\subsubsection{陸面スキーム}
%-------------------------------------------------------------------------------
陸面の状態量（主に陸面温度と土壌温度、土壌水分量）の更新を担う陸面スキームの選択は、
init.confとrun.conf中の\namelist{PARAM_LAND}の\nmitem{LAND_TYPE}で以下のように設定する。
海面・陸面・都市モデルのいずれかひとつでも用いられていて、
\namelist{PARAM LANDUSE}で入力・設定された土地利用分布に陸面が含まれている場合、
\nmitem{LAND_TYPE == NONEまたはOFF}を選択することは出来ない。\\

\noindent {\gt
\ovalbox{
\begin{tabularx}{140mm}{ll}
\verb|&PARAM_LAND  | & \\
\verb| LAND_TYPE = "SLAB", | & ; 表\ref{tab:nml_land}より選択。\\
\verb|/             | & \\
\end{tabularx}
}}\\

\begin{table}[h]
\begin{center}
  \caption{陸面スキームの選択肢}
  \label{tab:nml_land}
  \begin{tabularx}{150mm}{lX} \hline
    \rowcolor[gray]{0.9}  設定名 & スキームの説明 \\ \hline
      \verb|NONEまたはOFF| & 陸面モデルを利用しない                       \\
      \verb|SLAB|          & 熱拡散モデル＋バケツモデル                    \\
      \verb|CONST|         & SLABで土壌温度、土壌水分量、陸面温度を更新しない \\
    \hline
  \end{tabularx}
\end{center}
\end{table}


\nmitem{LAND_TYPE = "SLAB"}または\nmitem{LAND_TYPE = "CONST"}を選択した場合は、
土地利用区分に応じたアルベド、粗度長等のパラメータテーブルと、土地利用区分分布の入力が必要である。
パラメータテーブルは、
\begin{verbatim}
  scale-rm/test/data/land/param.bucket.conf
\end{verbatim}
に用意されている。\\


\subsubsection{大気-陸面フラックス}
%-------------------------------------------------------------------------------
陸面スキームが設定されると、自動的に大気ー陸面間で必要な状態量やフラックスが交換されることになる。
大気ー陸面間フラックスの計算スキームは、陸面スキームに対応して選択される。
\nmitem{LAND_TYPE = "SLAB"}または\nmitem{LAND_TYPE = "CONST"}を選択した場合は、
海面または理想実験用の地表面で用いられるバルクスキームと同じものが利用され、
run.conf中の\namelist{PARAM_BULKFLUX}の\nmitem{BULKFLUX_TYPE}で設定する。
これらの詳細については、第\ref{subsec:basic_usel_surface}節参照のこと。\\



\subsection{\SubsecUrbanSetting} \label{subsec:basic_usel_urban}
%------------------------------------------------------
都市過程は都市の状態量の更新と大気ー都市面間のフラックス計算の２つに大別される。
これらの過程を計算するタイミングはどちらも\namelist{PARAM_TIME}で設定する。
時間設定の詳細については第\ref{sec:timeintiv}節を参照のこと。\\

\subsubsection{都市スキームおよび大気-都市面間フラックス}
%-------------------------------------------------------------------------------
都市面の状態量（主に都市表面温度と水分量）の更新、また大気-都市面間フラックスの計算を担う都市スキームの選択は、
init.confとrun.conf中の\namelist{PARAM_URBAN}の\nmitem{URBAN_TYPE}で以下のように設定する。
海面・陸面・都市モデルのいずれかひとつでも用いられていて、
\namelist{PARAM LANDUSE}で入力・設定された土地利用分布に都市が含まれている場合、
\nmitem{URBAN_TYPE == NONEまたはOFF}を選択することは出来ない。\\

\noindent {\gt
\ovalbox{
\begin{tabularx}{140mm}{ll}
\verb|&PARAM_URBAN         | & \\
\verb| URBAN_TYPE = "SLC", | & ; 表\ref{tab:nml_urban}より選択。\\
\verb|/                    | & \\
\end{tabularx}
}}\\

\begin{table}[h]
\begin{center}
  \caption{都市スキームの選択肢}
  \label{tab:nml_urban}
  \begin{tabularx}{150mm}{llX} \hline
    \rowcolor[gray]{0.9}  設定名 & スキームの説明 & 文献 \\ \hline
      \verb|NONEまたはOFF| & 都市モデルを利用しない                      \\
      \verb|SLC|          & 単層キャノピーモデル  & \citet{kusaka_2001} \\
    \hline
  \end{tabularx}
\end{center}
\end{table}
